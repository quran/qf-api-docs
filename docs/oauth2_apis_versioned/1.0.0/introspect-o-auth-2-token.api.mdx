---
id: introspect-o-auth-2-token
title: "Introspect OAuth2 Access and Refresh Tokens"
description: "The introspection endpoint allows to check if a token (both refresh and access) is active or not. An active token"
sidebar_label: "Introspect OAuth2 Access and Refresh Tokens"
hide_title: true
hide_table_of_contents: true
api: {"description":"The introspection endpoint allows to check if a token (both refresh and access) is active or not. An active token\nis neither expired nor revoked. If a token is active, additional information on the token will be included. You can\nset additional data for a token by setting `session.access_token` during the consent flow.","operationId":"introspectOAuth2Token","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"properties":{"token":{"description":"The string value of the token. For access tokens, this\nis the \"access_token\" value returned from the token endpoint\ndefined in OAuth 2.0. For refresh tokens, this is the \"refresh_token\"\nvalue returned.","type":"string"},"scope":{"description":"An optional, space separated list of required scopes. If the access token was not granted one of the\nscopes, the result of active will be false.","type":"string"}},"required":["token"],"type":"object"}}}},"responses":{"200":{"description":"Successful token introspection","content":{"application/json":{"schema":{"description":"Introspection contains an access token's session data as specified by\n[IETF RFC 7662](https://tools.ietf.org/html/rfc7662)","example":{"active":true,"scope":"openid offline collection bookmark reading_session preference user","client_id":"quran-demo","sub":"a4f5a01a-a641-4b23-ba05-d002b704bfaa","exp":1675239767,"iat":1675236166,"nbf":1675236166,"aud":[],"iss":"https://oauth2.quran.foundation/","token_type":"Bearer","token_use":"access_token"},"properties":{"active":{"description":"Active is a boolean indicator of whether or not the presented token\nis currently active.  The specifics of a token's \"active\" state\nwill vary depending on the implementation of the authorization\nserver and the information it keeps about its tokens, but a \"true\"\nvalue return for the \"active\" property will generally indicate\nthat a given token has been issued by this authorization server,\nhas not been revoked by the resource owner, and is within its\ngiven time window of validity (e.g., after its issuance time and\nbefore its expiration time).","type":"boolean"},"aud":{"description":"Audience contains a list of the token's intended audiences.","items":{"type":"string"},"type":"array"},"client_id":{"description":"ID is aclient identifier for the OAuth 2.0 client that\nrequested this token.","type":"string"},"exp":{"description":"Expires at is an integer timestamp, measured in the number of seconds\nsince January 1 1970 UTC, indicating when this token will expire.","format":"int64","type":"integer"},"ext":{"additionalProperties":{},"description":"Extra is arbitrary data set by the session.","type":"object"},"iat":{"description":"Issued at is an integer timestamp, measured in the number of seconds\nsince January 1 1970 UTC, indicating when this token was\noriginally issued.","format":"int64","type":"integer"},"iss":{"description":"IssuerURL is a string representing the issuer of this token","type":"string"},"nbf":{"description":"NotBefore is an integer timestamp, measured in the number of seconds\nsince January 1 1970 UTC, indicating when this token is not to be\nused before.","format":"int64","type":"integer"},"obfuscated_subject":{"description":"ObfuscatedSubject is set when the subject identifier algorithm was set to \"pairwise\" during authorization.\nIt is the `sub` value of the ID Token that was issued.","type":"string"},"scope":{"description":"Scope is a JSON string containing a space-separated list of\nscopes associated with this token.","type":"string"},"sub":{"description":"Subject of the token, as defined in JWT [RFC7519].\nUsually a machine-readable identifier of the resource owner who\nauthorized this token.","type":"string"},"token_type":{"description":"TokenType is the introspected token's type, typically `Bearer`.","type":"string"},"token_use":{"description":"TokenUse is the introspected token's use, for example `access_token` or `refresh_token`.","type":"string"},"username":{"description":"Username is a human-readable identifier for the resource owner who\nauthorized this token.","type":"string"}},"required":["active"],"type":"object","title":"introspectedOAuth2Token"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"description":"Error","properties":{"error":{"description":"Error code","type":"string","example":"invalid_client"},"error_debug":{"description":"Error Debug Information\n\nOnly available in dev mode.","type":"string"},"error_description":{"description":"Human-readable ASCII text providing additional information about the error","type":"string","example":"Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method). The requested OAuth 2.0 Client does not exist."},"error_hint":{"description":"Error Hint\n\nHelps the user identify the error cause.","example":"The redirect URL is not allowed.","type":"string"},"status_code":{"description":"HTTP Status Code","example":401,"format":"int64","type":"integer"}},"type":"object","title":"errorOAuth2"}}}},"401":{"description":"Unauthorized - invalid client credentials","content":{"application/json":{"schema":{"description":"Error","properties":{"error":{"description":"Error code","type":"string","example":"invalid_client"},"error_debug":{"description":"Error Debug Information\n\nOnly available in dev mode.","type":"string"},"error_description":{"description":"Human-readable ASCII text providing additional information about the error","type":"string","example":"Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method). The requested OAuth 2.0 Client does not exist."},"error_hint":{"description":"Error Hint\n\nHelps the user identify the error cause.","example":"The redirect URL is not allowed.","type":"string"},"status_code":{"description":"HTTP Status Code","example":401,"format":"int64","type":"integer"}},"type":"object","title":"errorOAuth2"}}}}},"security":[{"basicAuth":[]}],"tags":["OAuth2"],"method":"post","path":"/oauth2/introspect","servers":[{"url":"https://oauth2.quran.foundation","description":"Production Server"},{"url":"https://staging-oauth2.quran.foundation","description":"Staging Server"}],"securitySchemes":{"bearerToken":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"Bearer token authentication"},"basicAuth":{"type":"http","scheme":"basic","description":"Basic authentication for client credentials"}},"info":{"title":"OAuth2 APIs","version":"1.0.0","description":"Quran.Foundation OAuth2 APIs are a set of APIs that allow you to integrate your app with Quran.Foundation's OAuth2 capabilities. This includes endpoints for OpenID Connect Userinfo, OAuth2 Token Exchange, and OAuth2 Authorize. The APIs are designed to be simple and easy to use, with a focus on security and privacy. Integrating with Quran.Foundation's OAuth2 APIs is required to access Quran.Foundation's APIs."},"postman":{"name":"Introspect OAuth2 Access and Refresh Tokens","description":{"content":"The introspection endpoint allows to check if a token (both refresh and access) is active or not. An active token\nis neither expired nor revoked. If a token is active, additional information on the token will be included. You can\nset additional data for a token by setting `session.access_token` during the consent flow.","type":"text/plain"},"url":{"path":["oauth2","introspect"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/x-www-form-urlencoded"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"urlencoded","urlencoded":[]},"auth":{"type":"basic","basic":[{"type":"any","value":"<Basic Auth Username>","key":"username"},{"type":"any","value":"<Basic Auth Password>","key":"password"}]}}}
sidebar_class_name: "post api-method"
info_path: docs/oauth2_apis_versioned/1.0.0/oauth-2-apis
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Introspect OAuth2 Access and Refresh Tokens



The introspection endpoint allows to check if a token (both refresh and access) is active or not. An active token
is neither expired nor revoked. If a token is active, additional information on the token will be included. You can
set additional data for a token by setting `session.access_token` during the consent flow.

<MimeTabs><TabItem label={"application/x-www-form-urlencoded"} value={"application/x-www-form-urlencoded-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"token"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The string value of the token. For access tokens, this\nis the \"access_token\" value returned from the token endpoint\ndefined in OAuth 2.0. For refresh tokens, this is the \"refresh_token\"\nvalue returned.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"scope"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"An optional, space separated list of required scopes. If the access token was not granted one of the\nscopes, the result of active will be false.","type":"string"}}></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

Successful token introspection

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"active"} required={true} schemaName={"boolean"} qualifierMessage={undefined} schema={{"description":"Active is a boolean indicator of whether or not the presented token\nis currently active.  The specifics of a token's \"active\" state\nwill vary depending on the implementation of the authorization\nserver and the information it keeps about its tokens, but a \"true\"\nvalue return for the \"active\" property will generally indicate\nthat a given token has been issued by this authorization server,\nhas not been revoked by the resource owner, and is within its\ngiven time window of validity (e.g., after its issuance time and\nbefore its expiration time).","type":"boolean"}}></SchemaItem><SchemaItem collapsible={false} name={"aud"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"Audience contains a list of the token's intended audiences.","items":{"type":"string"},"type":"array"}}></SchemaItem><SchemaItem collapsible={false} name={"client_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"ID is aclient identifier for the OAuth 2.0 client that\nrequested this token.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"exp"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"description":"Expires at is an integer timestamp, measured in the number of seconds\nsince January 1 1970 UTC, indicating when this token will expire.","format":"int64","type":"integer"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>ext</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Extra is arbitrary data set by the session.

</div></div></details></SchemaItem><SchemaItem collapsible={false} name={"iat"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"description":"Issued at is an integer timestamp, measured in the number of seconds\nsince January 1 1970 UTC, indicating when this token was\noriginally issued.","format":"int64","type":"integer"}}></SchemaItem><SchemaItem collapsible={false} name={"iss"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"IssuerURL is a string representing the issuer of this token","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"nbf"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"description":"NotBefore is an integer timestamp, measured in the number of seconds\nsince January 1 1970 UTC, indicating when this token is not to be\nused before.","format":"int64","type":"integer"}}></SchemaItem><SchemaItem collapsible={false} name={"obfuscated_subject"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"ObfuscatedSubject is set when the subject identifier algorithm was set to \"pairwise\" during authorization.\nIt is the `sub` value of the ID Token that was issued.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"scope"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Scope is a JSON string containing a space-separated list of\nscopes associated with this token.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"sub"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Subject of the token, as defined in JWT [RFC7519].\nUsually a machine-readable identifier of the resource owner who\nauthorized this token.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"token_type"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"TokenType is the introspected token's type, typically `Bearer`.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"token_use"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"TokenUse is the introspected token's use, for example `access_token` or `refresh_token`.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"username"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Username is a human-readable identifier for the resource owner who\nauthorized this token.","type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"active\": true,\n  \"scope\": \"openid offline collection bookmark reading_session preference user\",\n  \"client_id\": \"quran-demo\",\n  \"sub\": \"a4f5a01a-a641-4b23-ba05-d002b704bfaa\",\n  \"exp\": 1675239767,\n  \"iat\": 1675236166,\n  \"nbf\": 1675236166,\n  \"aud\": [],\n  \"iss\": \"https://oauth2.quran.foundation/\",\n  \"token_type\": \"Bearer\",\n  \"token_use\": \"access_token\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>

Bad request

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"error"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Error code","type":"string","example":"invalid_client"}}></SchemaItem><SchemaItem collapsible={false} name={"error_debug"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Error Debug Information\n\nOnly available in dev mode.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"error_description"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Human-readable ASCII text providing additional information about the error","type":"string","example":"Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method). The requested OAuth 2.0 Client does not exist."}}></SchemaItem><SchemaItem collapsible={false} name={"error_hint"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Error Hint\n\nHelps the user identify the error cause.","example":"The redirect URL is not allowed.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"status_code"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"description":"HTTP Status Code","example":401,"format":"int64","type":"integer"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"error\": \"invalid_client\",\n  \"error_debug\": \"string\",\n  \"error_description\": \"Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method). The requested OAuth 2.0 Client does not exist.\",\n  \"error_hint\": \"The redirect URL is not allowed.\",\n  \"status_code\": 401\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"401"} value={"401"}><div>

Unauthorized - invalid client credentials

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"error"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Error code","type":"string","example":"invalid_client"}}></SchemaItem><SchemaItem collapsible={false} name={"error_debug"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Error Debug Information\n\nOnly available in dev mode.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"error_description"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Human-readable ASCII text providing additional information about the error","type":"string","example":"Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method). The requested OAuth 2.0 Client does not exist."}}></SchemaItem><SchemaItem collapsible={false} name={"error_hint"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Error Hint\n\nHelps the user identify the error cause.","example":"The redirect URL is not allowed.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"status_code"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"description":"HTTP Status Code","example":401,"format":"int64","type":"integer"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"error\": \"invalid_client\",\n  \"error_debug\": \"string\",\n  \"error_description\": \"Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method). The requested OAuth 2.0 Client does not exist.\",\n  \"error_hint\": \"The redirect URL is not allowed.\",\n  \"status_code\": 401\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      